{% load django_tables2 %}
{% load apis_relations %}
{% load apiscore %}
{% with object|opts as opts %}
  {% triple_tables_related_edit object as tables %}
  {% for objecttype, table in tables %}
    <div class="card card-default mb-2">
      <div class="card-header" role="tab" id="heading{{ forloop.counter }}">
        <div class="card-title">
          <a data-toggle="collapse" href="#collapse{{ forloop.counter }}">{{ objecttype.name|title }} ({{ table.data|length }})</a>
        </div>
      </div>
      <div id="collapse{{ forloop.counter }}" class="card-collapse collapse">
        <div id="tab_triple_form_{{ opts.verbose_name }}_to_{{ objecttype.name }}"
             class="card-body">{% render_table table %}</div>
      </div>
    </div>
  {% endfor %}
{% endwith %}
